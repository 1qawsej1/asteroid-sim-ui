<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Meteor Crash Simulator</title>
<style>
  body { margin: 0; background: #111; color: white; font-family: sans-serif; }
  canvas { display: block; background: #222; margin: 0 auto; }
  #ui { text-align: center; margin: 10px; }
</style>
</head>
<body>

<div id="ui">
  <label>Shape:
    <select id="shape">
      <option value="circle">Circle</option>
      <option value="triangle">Triangle</option>
      <option value="square">Square</option>
    </select>
  </label>
  <label>Material:
    <select id="material">
      <option value="rock">Rock</option>
      <option value="iron">Iron</option>
      <option value="ice">Ice</option>
    </select>
  </label>
  <label>Size: <input type="range" id="size" min="10" max="50" value="20"></label>
  <label>Speed: <input type="range" id="speed" min="1" max="10" value="5"></label>
  <button id="launch">Launch Meteor</button>
</div>

<canvas id="game" width="600" height="400"></canvas>

<script>
const canvas = document.getElementById('game');
const ctx = canvas.getContext('2d');

const earth = { x: 300, y: 350, radius: 100 };

const materials = {
  rock: { density: 3, color: '#888' },
  iron: { density: 7, color: '#aaa' },
  ice: { density: 1, color: '#5af' }
};

let meteor = null;

function drawEarth() {
  ctx.fillStyle = 'green';
  ctx.beginPath();
  ctx.arc(earth.x, earth.y, earth.radius, 0, Math.PI*2);
  ctx.fill();
}

function drawMeteor(m) {
  ctx.fillStyle = m.color;
  ctx.beginPath();
  if (m.shape === 'circle') {
    ctx.arc(m.x, m.y, m.size, 0, Math.PI*2);
  } else if (m.shape === 'triangle') {
    ctx.moveTo(m.x, m.y - m.size);
    ctx.lineTo(m.x - m.size, m.y + m.size);
    ctx.lineTo(m.x + m.size, m.y + m.size);
    ctx.closePath();
  } else if (m.shape === 'square') {
    ctx.fillRect(m.x - m.size, m.y - m.size, m.size*2, m.size*2);
    return;
  }
  ctx.fill();
}

function launchMeteor() {
  const shape = document.getElementById('shape').value;
  const mat = document.getElementById('material').value;
  const size = parseInt(document.getElementById('size').value);
  const speed = parseInt(document.getElementById('speed').value);

  meteor = {
    x: 300,
    y: 50,
    shape: shape,
    material: mat,
    size: size,
    color: materials[mat].color,
    speed: speed
  };
}

document.getElementById('launch').addEventListener('click', launchMeteor);

function animate() {
  ctx.clearRect(0,0,canvas.width, canvas.height);
  drawEarth();
  if (meteor) {
    meteor.y += meteor.speed;
    drawMeteor(meteor);
    // simple collision detection
    const dx = meteor.x - earth.x;
    const dy = meteor.y - earth.y;
    const distance = Math.sqrt(dx*dx + dy*dy);
    if (distance < meteor.size + earth.radius) {
      // impact!
      ctx.fillStyle = 'orange';
      ctx.beginPath();
      ctx.arc(meteor.x, meteor.y, meteor.size*2, 0, Math.PI*2);
      ctx.fill();
      meteor = null; // meteor destroyed
    }
  }
  requestAnimationFrame(animate);
}

animate();
</script>

</body>
</html>

